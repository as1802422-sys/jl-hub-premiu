--[[ 
JL Hub - Menu ROBLOX exploit (GUI COMUM) - Fundo Ã¡rvore, nome "JL Hub", painel fixo no canto, simples, bonito, toggle.
Funcionando: KRNL, Delta, Fluxus.
]]

local Players      = game:GetService("Players")
local LocalPlayer  = Players.LocalPlayer
local Mouse        = LocalPlayer:GetMouse()
local CoreGui      = game:GetService("CoreGui")

if CoreGui:FindFirstChild("JLHubMain") then CoreGui.JLHubMain:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JLHubMain"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false

-- Fundo imagem Ã¡rvore (ajuste assetId abaixo para sua preferida)
local bgId = "rbxassetid://14924794312"
local bg = Instance.new("ImageLabel")
bg.Name = "TreeBG"
bg.Parent = ScreenGui
bg.Position = UDim2.new(0,0,0,0)
bg.Size = UDim2.new(1,0,1,0)
bg.Image = bgId
bg.ImageTransparency = 0.78
bg.BackgroundTransparency = 1

-- Menu lateral simples JL Hub
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 265, 0, 375)
MainFrame.Position = UDim2.new(0, 18, 0.22,0)
MainFrame.BackgroundColor3 = Color3.fromRGB(22, 22, 25)
MainFrame.BackgroundTransparency = 0.09
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui
local round = Instance.new("UICorner", MainFrame)
round.CornerRadius = UDim.new(0,17)

local MenuTitle = Instance.new("TextLabel")
MenuTitle.Text = "ðŸŒ³ JL Hub"
MenuTitle.Font = Enum.Font.GothamBold
MenuTitle.TextColor3 = Color3.fromRGB(87,199,140)
MenuTitle.BackgroundTransparency = 1
MenuTitle.Size = UDim2.new(1, 0, 0, 44)
MenuTitle.Position = UDim2.new(0,0,0,0)
MenuTitle.TextSize = 29
MenuTitle.Parent = MainFrame
MenuTitle.TextStrokeTransparency = 0.43

-- FunÃ§Ãµes toggles
local state = {}; local btns={};
local function makeButton(txt, ypos, color, fun)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1,-26,0,38)
    btn.Position = UDim2.new(0,13,0,45+ypos)
    btn.Text = txt
    btn.BackgroundColor3 = color
    btn.TextColor3 = Color3.fromRGB(204,255,215)
    btn.Font = Enum.Font.GothamMedium
    btn.TextSize = 20
    btn.BorderSizePixel = 0
    btn.AutoButtonColor = true
    btn.Parent = MainFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)
    btn.MouseButton1Click:Connect(function()
        fun(btn)
    end)
    return btn
end

local function notify(msg)
    pcall(function() game.StarterGui:SetCore("SendNotification", {
        Title = "JL Hub", Text = msg, Duration=2
    }) end)
end

-- Farm toggle
state.farm = false
btns.farm = makeButton("ðŸŒ¾ Auto Farm", 10, Color3.fromRGB(84,156,239), function(btn)
    state.farm = not state.farm
    btn.BackgroundColor3 = state.farm and Color3.fromRGB(18,180,80) or Color3.fromRGB(84,156,239)
    if state.farm then
        notify("Auto Farm ON")
        if not state.farmLoop or coroutine.status(state.farmLoop)=="dead" then
            state.farmLoop = coroutine.create(function()
                while state.farm do
                    for _,obj in ipairs(workspace:GetDescendants()) do
                        if obj:IsA("Model") and obj:FindFirstChild("Humanoid") and obj:FindFirstChild("ManualMission") then
                            local root = obj.PrimaryPart or obj:FindFirstChild("HumanoidRootPart")
                            if root and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                                if (root.Position-LocalPlayer.Character.HumanoidRootPart.Position).Magnitude<65
                                    and obj.Humanoid.Health>0 then obj.Humanoid.Health=0 end
                            end
                        end
                    end
                    wait(0.17)
                end
            end)
            coroutine.resume(state.farmLoop)
        end
    else
        notify("Auto Farm OFF")
    end
end)

-- Boss toggle
state.boss = false
btns.boss = makeButton("ðŸ‘‘ Auto Boss", 65, Color3.fromRGB(255,162,62), function(btn)
    state.boss = not state.boss
    btn.BackgroundColor3 = state.boss and Color3.fromRGB(232,184,47) or Color3.fromRGB(255,162,62)
    if state.boss then
        notify("Auto Boss ON")
        if not state.bossLoop or coroutine.status(state.bossLoop)=="dead" then
            state.bossLoop = coroutine.create(function()
                while state.boss do
                    for _,obj in ipairs(workspace:GetDescendants()) do
                        if obj:IsA("Model") and obj:FindFirstChild("Humanoid") and obj.Name:lower():find("boss") then
                            if obj.Humanoid.Health>0 then obj.Humanoid.Health=0 end
                        end
                    end
                    wait(0.23)
                end
            end)
            coroutine.resume(state.bossLoop)
        end
    else
        notify("Auto Boss OFF")
    end
end)

-- Auto Pegar toggle
state.pegar = false
btns.pegar = makeButton("ðŸŒŸ Auto Pegar", 120, Color3.fromRGB(102,206,254), function(btn)
    state.pegar = not state.pegar
    btn.BackgroundColor3 = state.pegar and Color3.fromRGB(84,255,230) or Color3.fromRGB(102,206,254)
    if state.pegar then
        notify("Auto Pegar ON")
        if not state.pegarLoop or coroutine.status(state.pegarLoop)=="dead" then
            state.pegarLoop = coroutine.create(function()
                while state.pegar do
                    local char=LocalPlayer.Character; if char and char:FindFirstChild("HumanoidRootPart") then
                        for _,obj in ipairs(workspace:GetDescendants()) do
                            if obj:IsA("BasePart") and obj.CanCollide and (obj.Position-char.HumanoidRootPart.Position).Magnitude<18 then
                                firetouchinterest(char.HumanoidRootPart, obj, 0)
                                wait()
                                firetouchinterest(char.HumanoidRootPart, obj, 1)
                            end
                        end
                    end
                    wait(0.22)
                end
            end)
            coroutine.resume(state.pegarLoop)
        end
    else
        notify("Auto Pegar OFF")
    end
end)

-- AutoClick toggle
state.click = false
btns.click = makeButton("âš¡ Auto Click", 175, Color3.fromRGB(92, 45, 140), function(btn)
    state.click = not state.click
    btn.BackgroundColor3 = state.click and Color3.fromRGB(110,38,197) or Color3.fromRGB(92,45,140)
    if state.click then
        notify("Auto Click ON")
        if not state.clickLoop or coroutine.status(state.clickLoop)=="dead" then
            state.clickLoop = coroutine.create(function()
                while state.click do
                    local chr=LocalPlayer.Character
                    if chr and chr:FindFirstChildWhichIsA("Tool") then
                        for _,ev in pairs(getconnections(Mouse.Button1Down)) do
                            ev:Fire()
                        end
                    end
                    wait(0.08)
                end
            end)
            coroutine.resume(state.clickLoop)
        end
    else
        notify("Auto Click OFF")
    end
end)

-- ESP Vermelho toggle
state.esp = false
btns.esp = makeButton("ðŸ”´ ESP Vermelho", 230, Color3.fromRGB(190,17,30), function(btn)
    state.esp = not state.esp
    btn.BackgroundColor3 = state.esp and Color3.fromRGB(167,40,22) or Color3.fromRGB(190,17,30)
    if state.esp then
        notify("ESP ON")
        state.espparts = {}
        for _,plr in ipairs(Players:GetPlayers()) do
            if plr~=LocalPlayer and plr.Character and plr.Character:FindFirstChild("Head") then
                local adorn=Instance.new("BoxHandleAdornment")
                adorn.Adornee = plr.Character.Head
                adorn.Size = Vector3.new(1.9,1.9,1.9)
                adorn.Color3 = Color3.new(1,0,0)
                adorn.Transparency = 0.6
                adorn.AlwaysOnTop = true
                adorn.ZIndex = 20
                adorn.Parent = CoreGui
                table.insert(state.espparts,adorn)
            end
        end
    else
        notify("ESP OFF")
        for _,a in ipairs(state.espparts or {}) do if a and a.Parent then a:Destroy() end end
        state.espparts={}
    end
end)

-- Aimbot toggle
state.aim = false
btns.aim = makeButton("ðŸŽ¯ Aimbot", 285, Color3.fromRGB(45,120,70), function(btn)
    state.aim = not state.aim
    btn.BackgroundColor3 = state.aim and Color3.fromRGB(23,180,87) or Color3.fromRGB(45,120,70)
    if state.aim then
        notify("Aimbot ON")
        if not state.aimLoop or coroutine.status(state.aimLoop)=="dead" then
            state.aimLoop = coroutine.create(function()
                while state.aim do
                    local minDist, target
                    for _,plr in ipairs(Players:GetPlayers()) do
                        if plr~=LocalPlayer and plr.Character and plr.Character:FindFirstChild("Head") and plr.Character:FindFirstChild("Humanoid") then
                            if plr.Character.Humanoid.Health>0 and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Head") then
                                local dist = (plr.Character.Head.Position - LocalPlayer.Character.Head.Position).Magnitude
                                if not minDist or dist < minDist then minDist, target = dist, plr end
                            end
                        end
                    end
                    if target and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Head") then
                        local cam = workspace.CurrentCamera 
                        cam.CFrame = CFrame.new(cam.CFrame.Position, target.Character.Head.Position)
                    end
                    wait(0.07)
                end
            end)
            coroutine.resume(state.aimLoop)
        end
    else
        notify("Aimbot OFF")
    end
end)

-- CrÃ©dtio
local c = Instance.new("TextLabel", MainFrame)
c.Text = "github.com/as1802422-sys | ðŸŒ³ JL Hub"
c.Size = UDim2.new(1,0,0,15)
c.Position = UDim2.new(0,0,1,-13)
c.BackgroundTransparency = 1
c.TextColor3 = Color3.fromRGB(90,120,85)
c.TextXAlignment = Enum.TextXAlignment.Right
c.TextYAlignment = Enum.TextYAlignment.Bottom
c.Font = Enum.Font.Code
c.TextSize = 13
